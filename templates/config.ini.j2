[ndbd default]
# Options affecting ndbd processes on all data nodes:
NoOfReplicas= 1   # Number of replicas

# Options are deprecated in mysql cluster 8.0
#DataMemory=4096M    # How much memory to allocate for data storage
#IndexMemory=128M   # How much memory to allocate for index storage

{% for host in groups["mysql_cluster_mgm"] %}
{% if hostvars[host]["mysql_cluster"] == mysql_cluster %}
[ndb_mgmd]
HostName= {{ host }}
DataDir= /var/lib/mysql-cluster
{% endif %}
{% endfor %}

{% for host in groups["mysql_cluster_data"] %}
{% if hostvars[host]["mysql_cluster"] == mysql_cluster %}
{% if hostvars[host]["node_id"] %}
[ndbd]
HostName= {{ host }}
DataDir= /usr/local/mysql/data

{% endif %}
{% endif %}
{% endfor %}

{% for host in groups["mysql_cluster_sql"] %}
{% if hostvars[host]["mysql_cluster"] == mysql_cluster %}
[mysqld]
HostName= {{ host }}
{% endif %}
{% endfor %}
